<html>
  <head>
    <title>Balance Projector</title>
    <link type="text/css" rel="stylesheet" href="css/style.css">    
  </head>
  <body ng-app="myApp">

    <div ng-controller="controller" id="mainDiv">
      <h2>Balance Projector Sample Application</h2>
      <div id="inputDiv">        
        <p>How much money do you have today</p>
        <p><input type="number" ng-model="startAmount"></p>
        
        <p>What is your regular income</p>
        <li ng-repeat="income in incomes">
          <input type="checkbox" ng-model="income.apply">
          <input type="text" ng-model="income.title" placeholder="Enter description">
          <input type="number" ng-model="income.amount" placeholder="Amount" min="0">
          <select ng-model="income.freq">
            <option value="D">Daily</option>
            <option value="WD">Week days</option>
            <option value="WE">Weekends</option>
            <option value="W">Weekly</option>
            <option value="2W">Every two weeks</option>
            <option value="M">Monthly</option>
            <option value="ME">Monthly(Current month excl.)</option>
          </select>
          <button ng-click="removeIncome($index)">-</button>
        <li>
        <br/>
        <button ng-click="addNewIncome()">+ Add</button>

        <p>What are your regular expenses</p>
        <li ng-repeat="expense in expenses">
          <input type="checkbox" ng-model="expense.apply">
          <input type="text" ng-model="expense.title" placeholder="Enter description">
          <input type="number" ng-model="expense.amount" placeholder="Amount" max="0">
          <select ng-model="expense.freq">
            <option value="D">Daily</option>
            <option value="WD">Week days</option>
            <option value="WE">Weekends</option>
            <option value="W">Weekly</option>
            <option value="2W">Every two weeks</option>
            <option value="M">Monthly</option>
            <option value="ME">Monthly(Current month excl.)</option>
          </select>
          <button ng-click="removeExpense($index)">-</button>
        <li>
        <br/>
        <button ng-click="addNewExpense()">+ Add</button>


        <p>Your casual income</p>
        <li ng-repeat="casualIncome in casualIncomes">
          <input type="checkbox" ng-model="casualIncome.apply">
          <input type="text" ng-model="casualIncome.title" placeholder="Enter description">
          <input type="number" ng-model="casualIncome.amount" placeholder="Amount" min="0">
          <select ng-init="casualIncome.month = monthLabels[0].id" ng-options="monthLabel.id as monthLabel.name for monthLabel in monthLabels" ng-model="casualIncome.month">
          </select>
          <button ng-click="removeCasualIncome($index)">-</button>
        <li>
        <br/>
        <button ng-click="addNewCasualIncome()">+ Add</button>

        <p>Your casual expenses</p>
        <li ng-repeat="casualExpense in casualExpenses">
          <input type="checkbox" ng-model="casualExpense.apply">
          <input type="text" ng-model="casualExpense.title" placeholder="Enter description">
          <input type="number" ng-model="casualExpense.amount" placeholder="Amount" max="0">
          <select ng-init="casualIncome.month = monthLabels[0].id" ng-options="monthLabel.id as monthLabel.name for monthLabel in monthLabels" ng-model="casualIncome.month"></select>
          <button ng-click="removeCasualExpense($index)">-</button>
        <li>
        <br/>
        <button ng-click="addNewCasualExpense()">+ Add</button>
      </div>

      <div id="outputDiv">
        <table>
          <th colspan="2">Accumulated net income</th>
          <th>Balance</th>
          <tr ng-repeat="netIncome in netIncomes()">
            <td>{{getMonthLabel($index)}}</td>
            <td>{{MyMath.round(netIncome.amount)}}</td>
            <td>{{MyMath.round(netIncome.amount + startAmount)}}</td>
        <table>

      </div>
    </div>
    <script src="js/angular.js"></script>
    <script src="js/controller.js"></script>     
  </body>
</html>